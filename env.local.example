# Supabase Configuration
# Your Thinkable project credentials
# Get these from: https://supabase.com/dashboard/project/_/settings/api-keys
# Site URL (for email verification links)
# In production, set this to your actual domain (e.g., https://thinkable.com)
NEXT_PUBLIC_SITE_URL=http://localhost:3031

# For Next.js, use NEXT_PUBLIC_ prefix for client-side variables
NEXT_PUBLIC_SUPABASE_URL=https://mbwefpatkvhxnuwdzalx.supabase.co

# New Supabase API Keys (Recommended)
# Publishable key (sb_publishable_...) - Safe to expose in client-side code
# Get from: https://supabase.com/dashboard/project/_/settings/api-keys
# Click "Create new API Keys" if you don't have one yet
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=sb_publishable_your-publishable-key-here

# Legacy Supabase API Keys (Still supported during transition)
# Anon key (JWT-based) - Can be used instead of publishable key
# Get from: https://supabase.com/dashboard/project/_/settings/api-keys (Legacy API Keys tab)
# NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase CLI Access Token (for schema management via git)
# Required for: npm run db:push, npm run db:diff, npm run db:sync
# Get from: https://supabase.com/dashboard/account/tokens
# Or run: npx supabase login (will prompt for token)
SUPABASE_ACCESS_TOKEN=your-supabase-access-token-here

# OpenAI API Configuration
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Stripe Configuration
# Get these from your Stripe dashboard: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# Stripe Price ID
# Create a product and price in Stripe dashboard, then copy the Price ID (starts with price_)
# This is the recurring price ID for your Pro subscription plan
STRIPE_PRICE_ID=price_your-price-id-here

# Resend API Key (for email verification)
# Get from: https://resend.com/api-keys
# Required for sending email verification links
RESEND_API_KEY=re_your-resend-api-key-here

# Resend Email Configuration
# The email address that will send verification emails
# For testing: Use onboarding@resend.dev (pre-verified, no domain setup needed)
# For production: Verify your domain at https://resend.com/domains and use your domain email
RESEND_FROM_EMAIL=onboarding@resend.dev

# Supabase Secret Key (for admin operations like account deletion)
# WARNING: Never expose this in client-side code!
# Get from: https://supabase.com/dashboard/project/_/settings/api-keys
# Click "Create new API Keys" and copy the Secret key (starts with sb_secret_)
# This is the new recommended format, replacing the legacy service_role key
SUPABASE_SECRET_KEY=sb_secret_your-secret-key-here

# Homepage Board ID (for public homepage display)
# Create a system user account, create a board as that user, then copy the board UUID here
# The homepage will display this board read-only (no editing interface)
# To edit: Log in as the system user and navigate to /board/[this-uuid]
# Note: Uses NEXT_PUBLIC_ prefix so it's accessible on client-side
NEXT_PUBLIC_HOMEPAGE_BOARD_ID=your-homepage-board-uuid-here

# GitHub Personal Access Token (optional, for advanced git automation)
# Only needed if you want to automate git operations or use GitHub API
# Get from: https://github.com/settings/tokens
# Required scopes: repo (for private repos) or public_repo (for public repos)
# Note: GitHub Actions automatically provides GITHUB_TOKEN, so this is mainly for local scripts
GITHUB_TOKEN=ghp_your-github-personal-access-token-here

# Optional: Next.js Configuration
# PORT=3000  # Default Next.js port, override in package.json scripts if needed

# Development Notes:
# 1. Make sure to run the SQL schema from supabase/schema.sql in your Supabase SQL editor
# 2. Run supabase/functions.sql for vector search functionality
# 3. Enable pgvector extension in Supabase: CREATE EXTENSION IF NOT EXISTS vector;
# 4. Configure Google OAuth in Supabase Auth settings (optional but recommended)
# 5. Set up Stripe webhook endpoint pointing to: https://your-domain.com/api/webhooks/stripe
#    Events to listen for: checkout.session.completed, customer.subscription.updated, customer.subscription.deleted
#
# Supabase Client Setup:
# - Use @supabase/ssr package for Server-Side Rendering (SSR)
# - Client-side: Use createBrowserClient from @supabase/ssr
# - Server-side: Use createServerClient from @supabase/ssr with cookies
# - Use NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY (or legacy ANON_KEY) for client initialization
# - See: https://supabase.com/docs/guides/auth/server-side/creating-a-client
# - API Keys Guide: https://supabase.com/docs/guides/api/api-keys
